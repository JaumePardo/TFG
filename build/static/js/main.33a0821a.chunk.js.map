{"version":3,"sources":["components/ConnectButton/index.js","services/getEnvs.js","components/IncorrectNetwork/index.js","components/Header/index.js","components/LotteryIcon/index.js","components/LastLotteries/index.js","pages/HomePage/index.js","components/MyAlert/index.js","pages/Comprar/index.js","pages/ReclamarPremios/index.js","pages/Intercambiar/index.js","pages/IntercambiarBoleto/index.js","pages/GenerarGanadores/index.js","pages/GenerarGanadoresLoteria/index.js","pages/ReclamarPremiosLoteria/index.js","pages/Desplegar/index.js","pages/ObtenerBeneficios/index.js","App.js","reportWebVitals.js","index.js"],"names":["ManualHeader","useMoralis","enableWeb3","isWeb3Enabled","isWeb3EnableLoading","account","Moralis","deactivateWeb3","useEffect","window","localStorage","getItem","onAccountChanged","console","log","removeItem","className","slice","length","onClick","setItem","disabled","CONTRACT_ADDRESS","IncorrectNetwork","user","Header","chainIdHex","chainId","useState","lotteryOwner","setLotteryOwner","owner","useWeb3Contract","abi","smart_contract","contractAddress","functionName","runContractFunction","parseInt","then","toLowerCase","href","to","LotteryIcon","lotteryAddress","redirectTo","lotteryInfo","setLotteryInfo","getLotteryInfo","params","_lotteryId","LastLotteries","lastLotteries","setLastLotteries","getLotteries","lotteries","catch","error","map","lottery","HomePage","MyAlert","message","severity","open","setOpen","Collapse","in","Alert","onClose","Comprar","numTicket","setNumTicket","numSerie","setNumSerie","numFraccion","setNumFraccion","numShares","setNumShares","entranceFee","setEntranceFee","alert","setAlert","buyTicket","msgValue","_numTicket","_numSerie","_numFraccion","_totalShares","getLatestPrice","handleComprar","e","preventDefault","onError","_lotteryInfo","price","_hex","id","onSubmit","htmlFor","type","onChange","target","value","min","placeholder","max","ReclamarPremios","Intercambiar","IntercambiarBoleto","tokenId","setTokenId","address","setAddress","amount","setAmount","comprar","setComprar","allowBuyShares","_to","_amount","_tokenId","buyShares","_from","getTokenId","handleClickComprar","handleClickVender","GenerarGanadoresLoteria","generateWinners","setWinningTickets","handleClickGenerateWinners","handleClickSetWinningTickets","ReclamarPremiosLoteria","getPrize","reclamarPremio","Deploy","totalNumbers","setTotalNumbers","totalSeries","setTotalSeries","ticketCost","setTicketCost","prize","setPrize","nameLottery","setNameLottery","setLotteryAddress","web3js","setWeb3js","deployLottery","undeployedLottery","eth","Contract","lottery_contract","deploy","data","bytecode","arguments","send","from","gas","gasPrice","deployedLottery","_address","addLottery","_lotteryContract","Web3","provider","ObtenerBeneficios","balance","setBalance","withdraw","getBalance","_balance","utils","fromWei","App","component","path","GenerarGanadores","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","initializeOnMount"],"mappings":"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","file":"static/js/main.33a0821a.chunk.js","sourcesContent":["import { useEffect } from \"react\"\nimport { useMoralis } from \"react-moralis\"\n\nexport default function ManualHeader() {\n    const { enableWeb3, isWeb3Enabled, isWeb3EnableLoading, account, Moralis, deactivateWeb3 } =useMoralis()\n\n    useEffect(() => {\n        if (\n            !isWeb3Enabled &&\n            typeof window !== \"undefined\" &&\n            window.localStorage.getItem(\"connected\")\n        ) {\n            enableWeb3()\n        }\n    }, [isWeb3Enabled])\n    useEffect(() => {\n        Moralis.onAccountChanged((account) => {\n            console.log(`Account changed to ${account}`)\n            if (account == null) {\n                window.localStorage.removeItem(\"connected\")\n                deactivateWeb3()\n                console.log(\"Null Account found\")\n            }\n        })\n    }, [])\n\n    return (\n        <nav className=\"connectDiv\">\n                    {account ? (\n                        <div className=\"ml-auto py-2 px-4\">\n                            Connected to <br/>{account.slice(0, 6)}...\n                            {account.slice(account.length - 4)}\n                        </div>\n                    ) : (\n                        <button\n                            onClick={async () => {\n                                // await walletModal.connect()\n                                await enableWeb3()\n                                // depends on what button they picked\n                                if (typeof window !== \"undefined\") {\n                                    window.localStorage.setItem(\"connected\", \"injected\")\n                                    // window.localStorage.setItem(\"connected\", \"walletconnect\")\n                                }\n                            }}\n                            disabled={isWeb3EnableLoading}\n                            className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded ml-auto\"\n                        >\n                            Connect\n                        </button>\n                    )}\n        </nav>\n    )\n}","\r\n//export const CONTRACT_ADDRESS = \"0xCC796f8Bcaa1f8E0F42eDB443501a5df62b4E4bf\";\r\n//export const CONTRACT_ADDRESS = \"0x74A6689b78057137b80ca0D99B29A982cf443913\";\r\n// export const CONTRACT_ADDRESS = \"0xB8c0b702b7DF85768DA85c53916C2DC7D3733915\";\r\nexport const CONTRACT_ADDRESS = \"0x0918BB9B0545B1376eb2AccD223619bf3f4A88ac\";","import { useState } from \"react\";\r\n\r\n\r\nexport default function IncorrectNetwork({ user }) {\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className=\"incorrectNetwork\">\r\n        <div>\r\n        Por favor conecte su wallet a la red de Goerli, chainId = 5\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import {useState,useEffect} from 'react';\nimport { Link } from 'wouter'\nimport ConnectButton from '../../components/ConnectButton/index.js'\nimport { useMoralis, useWeb3Contract  } from \"react-moralis\";\nimport smart_contract from '../../abis/LotteryService.json';\nimport { CONTRACT_ADDRESS } from '../../services/getEnvs.js';\nimport IncorrectNetwork from '../IncorrectNetwork/index.js';\n\n\nexport default function Header() {\n\n    const { isWeb3Enabled, account, chainId: chainIdHex} = useMoralis();\n    const [lotteryOwner, setLotteryOwner] = useState(null);\n\n    const { runContractFunction: owner } = useWeb3Contract({\n        abi: smart_contract.abi,\n        contractAddress: CONTRACT_ADDRESS, // specify the networkId\n        functionName: \"owner\"\n    })\n\n    useEffect(() => {\n        if (isWeb3Enabled) {\n            console.log(parseInt(chainIdHex,16))\n            owner().then((owner) => {\n              setLotteryOwner(owner.toLowerCase());\n            });\n        }\n    }, [isWeb3Enabled]);\n\n    return (\n        <>\n            {chainIdHex && parseInt(chainIdHex,16) !== 5 && <IncorrectNetwork />}\n            <div className=\"headerBackground\">\n            </div>\n            <header className=\"headerApp\">\n                <ConnectButton />\n                <a href='/' className='logo'>LOTERIA NACIONAL</a>\n                <div className='menu'>\n                    <Link to=\"/\">Comprar</Link>\n                    <Link to=\"/intercambiar\">Compartir</Link>\n                    <Link to=\"/reclamarPremios\">Reclamar Premios</Link>\n                    {lotteryOwner === account  && <Link to=\"/generarGanadores\"> Generar Ganadores</Link>}\n                    {lotteryOwner === account  && <Link to=\"/deploy\">Desplegar</Link>}\n                    {lotteryOwner === account  && <Link to=\"/obtenerBeneficios\">Obtener Beneficios</Link>}\n                </div>\n             </header>\n        </>\n    );\n}","import React, { useState,useEffect }  from \"react\";\r\nimport { Link } from \"wouter\";\r\nimport { useMoralis, useWeb3Contract } from \"react-moralis\";\r\nimport smart_contract from '../../abis/LotteryService.json';\r\nimport { CONTRACT_ADDRESS } from \"../../services/getEnvs\";\r\n\r\nexport default function LotteryIcon({ lotteryAddress, redirectTo }) {    \r\n    const { Moralis, isWeb3Enabled, chainId: chainIdHex } = useMoralis();\r\n    const [lotteryInfo, setLotteryInfo] = useState([]);\r\n\r\n    const { runContractFunction: getLotteryInfo } = useWeb3Contract({\r\n        abi: smart_contract.abi,\r\n        contractAddress: CONTRACT_ADDRESS, // specify the networkId\r\n        functionName: \"getLottery\",\r\n        params: { _lotteryId: lotteryAddress },\r\n    })\r\n    useEffect(() => {\r\n        if (isWeb3Enabled) {\r\n            getLotteryInfo().then((lotteryInfo) => {\r\n                setLotteryInfo(lotteryInfo);\r\n                console.log(lotteryInfo);\r\n            });\r\n        }\r\n    }, [isWeb3Enabled]);\r\n\r\n    return (\r\n        <Link to={`/${redirectTo}/${lotteryAddress}`}>\r\n        <div className=\"lottery-icon\">\r\n            <span>{lotteryInfo[0]}</span>\r\n        </div>\r\n        </Link>\r\n    );\r\n}","import React, { useEffect, useState } from \"react\";\nimport getLastLotteries from \"../../services/getLastLotteries\";\nimport LotteryIcon from \"../../components/LotteryIcon\";\nimport smart_contract from \"../../abis/LotteryService.json\";\nimport { useMoralis, useWeb3Contract } from \"react-moralis\";\nimport { CONTRACT_ADDRESS } from \"../../services/getEnvs\";\n\nexport default function LastLotteries({ redirectTo }) {\n  const [lastLotteries, setLastLotteries] = useState([]);\n  const { Moralis, isWeb3Enabled, chainId: chainIdHex } = useMoralis();\n\n  const { runContractFunction: getLotteries } = useWeb3Contract({\n    abi: smart_contract.abi,\n    contractAddress: CONTRACT_ADDRESS, // specify the networkId\n    functionName: \"getLotteries\",\n    params: {},\n  });\n\n  function updateUIValues() {\n    getLotteries()\n      .then((lotteries) => {\n        setLastLotteries(lotteries);\n        console.log(lotteries);\n        console.log(CONTRACT_ADDRESS);\n        console.log(smart_contract.abi);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  useEffect(() => {\n    if (isWeb3Enabled) {\n      updateUIValues();\n    }\n  }, [isWeb3Enabled]);\n\n  return (\n    <>\n      <h1>Últimas loterías</h1>\n      <ul className=\"listLotteries\">\n        {lastLotteries &&\n          lastLotteries.map((lottery) => {\n            return (\n              <li key={lottery}>\n                <LotteryIcon lotteryAddress={lottery} redirectTo={redirectTo} />\n              </li>\n            );\n          })}\n      </ul>\n    </>\n  );\n}\n","import React from \"react\";\nimport LastLotteries from \"../../components/LastLotteries\";\n    \n    \nexport default function HomePage() {\n    return <>\n    <div className=\"homePage\">\n        <LastLotteries redirectTo={\"comprar\"} />\n    </div>\n    </>\n}","import { useState } from \"react\";\r\nimport { Alert, Collapse } from \"@mui/material\";\r\n\r\nexport default function MyAlert({ message, severity }) {\r\n  const [open, setOpen] = useState(true);\r\n  return (\r\n    <div className=\"verificationEmailSended\">\r\n      <div>\r\n        <Collapse in={open}>\r\n          <Alert\r\n            severity={severity}\r\n            onClose={() => {\r\n              setOpen(false);\r\n            }}  \r\n          >\r\n            {message}\r\n          </Alert>\r\n        </Collapse>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect,useState } from \"react\";\nimport { useMoralis, useWeb3Contract } from \"react-moralis\";\nimport smart_contract from '../../abis/LotteryService.json';\nimport { CONTRACT_ADDRESS } from \"../../services/getEnvs\";\nimport MyAlert from \"../../components/MyAlert\";\n\nexport default function Comprar({ params }) {\n    const { lotteryAddress } = params;\n    const { isWeb3Enabled} = useMoralis();\n    const [numTicket, setNumTicket] = useState(0);\n    const [numSerie, setNumSerie] = useState(0);\n    const [numFraccion, setNumFraccion] = useState(0);\n    const [numShares, setNumShares] = useState(0);\n    const [entranceFee, setEntranceFee] = useState(null);\n    const [alert, setAlert] = useState(null);\n\n    const {runContractFunction: buyTicket } = useWeb3Contract({\n        abi: smart_contract.abi,\n        contractAddress: CONTRACT_ADDRESS,\n        functionName: \"buyTicket\",\n        msgValue: entranceFee,\n        params: {\n            _lotteryId: lotteryAddress,\n            _numTicket: numTicket,\n            _numSerie: numSerie,\n            _numFraccion: numFraccion,\n            _totalShares: numShares\n        },\n    })\n\n    const { runContractFunction: getLotteryInfo } = useWeb3Contract({\n        abi: smart_contract.abi,\n        contractAddress: CONTRACT_ADDRESS, \n        functionName: \"getLottery\",\n        params: { _lotteryId: lotteryAddress },\n    })\n\n    const { runContractFunction: getLatestPrice } = useWeb3Contract({\n        abi: smart_contract.abi,\n        contractAddress: CONTRACT_ADDRESS, \n        functionName: \"getLatestPrice\"\n    })\n\n\n\n    const handleComprar = async (e) => {\n        e.preventDefault();\n        if (isWeb3Enabled) {\n            await buyTicket({onError: (error) => {\n                setAlert({severity: \"error\", message: error.error.message})\n                }\n            })\n        }\n    }\n    useEffect(() => {\n        if (isWeb3Enabled) {\n            getLotteryInfo().then((_lotteryInfo) => {\n                getLatestPrice().then((price) => {\n                    setEntranceFee((parseInt(_lotteryInfo[4]._hex,16) * 10 **26 / parseInt(price._hex,16))+1);\n                });\n            });\n        }\n    }, [isWeb3Enabled]);\n\n    return (\n        <>\n            <div className=\"comprarPage\">\n                <div className=\"comprarHeader\"> \n                    <h1>Comprar</h1>\n                </div>\n                <form id=\"comprarForm\" onSubmit={handleComprar}>\n                    <div className=\"comprarFormGroup\">\n                        <div className=\"comprarFormInput\">\n                            <label htmlFor=\"numBoleto\">Número de boleto</label>\n                            <input type=\"number\" className=\"comprarFormControl\" id=\"numBoleto\" onChange={(e) => {setNumTicket(e.target.value)}} min=\"0\"  placeholder=\"0\" />\n                        </div>\n                        <div className=\"comprarFormInput\">\n                            <label htmlFor=\"numSerie\">Número de serie</label>\n                            <input type=\"number\" className=\"comprarFormControl\" id=\"numSerie\" onChange={(e) => {setNumSerie(e.target.value)}} min=\"0\" placeholder=\"0\" />\n                        </div>\n                        <div className=\"comprarFormInput\">\n                            <label htmlFor=\"numFraccion\">Fracción</label>\n                            <input type=\"number\" className=\"comprarFormControl\" id=\"numFraccion\" onChange={(e) => {setNumFraccion(e.target.value)}} min=\"0\" max=\"9\" placeholder=\"0\" />\n                        </div>\n                        <div className=\"comprarFormInput\">\n                            <label htmlFor=\"numShares\">Cantidad de participaciones</label>\n                            <input type=\"number\" className=\"comprarFormControl\" id=\"numShares\" onChange={(e) => {setNumShares(e.target.value)}} min=\"1\"  placeholder=\"100\" />\n                        </div>\n                        <div className=\"comprarFormInput\">\n                            <button type=\"submit\" className=\"comprarFormButton\">Comprar</button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        {alert && (<MyAlert message={alert.message} severity={alert.severity} />)}\n        </>\n    );\n}","import React from \"react\";\r\nimport LastLotteries from \"../../components/LastLotteries\";\r\n\r\n\r\nexport default function ReclamarPremios() {\r\n    return (\r\n        <>\r\n            <div className=\"homePage\">\r\n                <LastLotteries redirectTo={\"reclamarPremiosLoteria\"} />\r\n            </div>\r\n        </>\r\n    );\r\n}","import React from \"react\";\r\nimport LastLotteries from \"../../components/LastLotteries\";\r\nimport SearchLotteries from \"../../components/SearchLotteries\";\r\n    \r\n    \r\nexport default function Intercambiar() {\r\n    return <>\r\n    <div className=\"homePage\">\r\n        <LastLotteries redirectTo={\"intercambiarBoleto\"} />\r\n    </div>\r\n    </>\r\n}","import React from \"react\";\nimport { useEffect,useState } from \"react\";\nimport { useMoralis,useWeb3Contract } from \"react-moralis\";\nimport smart_contract from \"../../abis/LotteryService.json\";\nimport { CONTRACT_ADDRESS } from \"../../services/getEnvs\";\nimport MyAlert from \"../../components/MyAlert\";\n\n\nexport default function IntercambiarBoleto({params}) {\n    const { lotteryAddress } = params;\n    const { isWeb3Enabled} = useMoralis();\n    const [tokenId, setTokenId] = useState(null);\n    const [numTicket, setNumTicket] = useState(0);\n    const [numSerie, setNumSerie] = useState(0);\n    const [numFraccion, setNumFraccion] = useState(0);\n    const [address, setAddress] = useState(null);\n    const [amount, setAmount] = useState(0);\n    const [entranceFee, setEntranceFee] = useState(0);\n    const [alert, setAlert] = useState(null);\n    const [comprar, setComprar] = useState(false);\n\n\n    const {runContractFunction: allowBuyShares} = useWeb3Contract({\n        abi: smart_contract.abi,\n        contractAddress: CONTRACT_ADDRESS,\n        functionName: \"allowBuyShares\",\n        params: {\n            _lotteryId: lotteryAddress,\n            _to: address,\n            _amount: amount,\n            _tokenId: tokenId\n        },\n    })\n\n    const { runContractFunction: buyShares } = useWeb3Contract({\n        abi: smart_contract.abi,\n        contractAddress: CONTRACT_ADDRESS,\n        functionName: \"buyShares\",\n        msgValue: entranceFee,\n        params: {\n            _lotteryId: lotteryAddress,\n            _from: address,\n            _tokenId:  tokenId\n        }\n    });\n\n    const { runContractFunction: getLotteryInfo } = useWeb3Contract({\n        abi: smart_contract.abi,\n        contractAddress: CONTRACT_ADDRESS, \n        functionName: \"getLottery\",\n        params: { _lotteryId: lotteryAddress },\n    })\n\n    const { runContractFunction: getLatestPrice } = useWeb3Contract({\n        abi: smart_contract.abi,\n        contractAddress: CONTRACT_ADDRESS, \n        functionName: \"getLatestPrice\"\n    })\n\n    const { runContractFunction: getTokenId } = useWeb3Contract({\n        abi: smart_contract.abi,\n        contractAddress: CONTRACT_ADDRESS,\n        functionName: \"getTokenId\",\n        params: {\n          _lotteryId: lotteryAddress,\n          _numTicket: numTicket,\n          _numSerie: numSerie,\n          _numFraccion: numFraccion,\n        },\n    });\n    \n    const handleClickComprar = async (e) => {\n        e.preventDefault();\n        if (isWeb3Enabled) {\n            setComprar(true);\n            const _tokenId = await getTokenId({onError: (error) => {\n                setAlert({severity: \"error\", message: error.error.message})\n                }\n            })\n            setTokenId(_tokenId);\n        }\n    }\n\n    const handleClickVender = async (e) => {\n        e.preventDefault();\n        if (isWeb3Enabled) {\n            setComprar(false);\n            const _tokenId = await getTokenId({onError: (error) => {\n                setAlert({severity: \"error\", message: error.error.message})\n                }\n            })\n            setTokenId(_tokenId);\n        }\n    }\n\n    useEffect(() => {\n        if (isWeb3Enabled) {\n            getLotteryInfo().then((_lotteryInfo) => {\n                getLatestPrice().then((price) => {\n                    setEntranceFee((parseInt(_lotteryInfo[4]._hex,16) * 10 **26 / parseInt(price._hex,16)));\n                });\n            });\n        }\n    }, [isWeb3Enabled]);\n\n    useEffect(() => {\n        tokenId && comprar && buyShares({onError: (error) => {\n            setAlert({severity: \"error\", message: error.error.message})\n            }\n        })\n        tokenId && !comprar && allowBuyShares({onError: (error) => {\n            setAlert({severity: \"error\", message: error.error.message})\n            }\n        })\n      }, [tokenId]);\n\n    \n    \n    return (\n        <>\n            <div className=\"intercambiarPage\">\n                <div className=\"intercambiarHeader\">\n                    <h1>Compartir</h1>\n                </div>\n                <form id=\"intercambiarForm\">\n                    <div className=\"intercambiarFormGroup\">\n                        <label htmlFor=\"addressIntercambiar\">Dirección a la que compartir boletos</label>\n                        <input type=\"text\" id=\"addressIntercambiar\" onChange={(e)=>{setAddress(e.target.value)}} placeholder=\"0x0...\"  />\n                    </div>\n                    <div className=\"intercambiarFormGroup\">\n                        <label htmlFor=\"numBoleto\">Número de boleto</label>\n                        <input type=\"number\" className=\"comprarFormControl\" id=\"numBoleto\" onChange={(e) => {setNumTicket(e.target.value)}} min=\"0\" placeholder=\"0\" />\n                    </div>\n                    <div className=\"intercambiarFormGroup\">\n                        <label htmlFor=\"numSerie\">Número de serie</label>\n                        <input type=\"number\" className=\"comprarFormControl\" id=\"numSerie\" onChange={(e) => {setNumSerie(e.target.value)}} min=\"0\" placeholder=\"0\" />\n                    </div>\n                    <div className=\"intercambiarFormGroup\">\n                        <label htmlFor=\"numFraccion\">Fracción</label>\n                        <input type=\"number\" className=\"comprarFormControl\" id=\"numFraccion\" onChange={(e) => {setNumFraccion(e.target.value)}} min=\"0\" max=\"9\" placeholder=\"0\" />\n                    </div>\n                    <div className=\"intercambiarFormGroup\">\n                        <label htmlFor=\"cantidadIntercambiar\">Cantidad de participaciones a compartir</label>\n                        <input type=\"number\" id=\"cantidadIntercambiar\" onChange={(e)=>{setAmount(e.target.value)}} placeholder=\"50\"/>\n                    </div>\n                    <div className=\"intercambiarFormButtons\">\n                        <button onClick={handleClickComprar}>Comprar</button>\n                        <button onClick={handleClickVender}>Vender</button>\n                    </div>\n                </form>\n            </div>\n            {alert && (<MyAlert message={alert.message} severity={alert.severity} />)}\n        </>\n    );\n    }  ","import React from \"react\";\nimport LastLotteries from \"../../components/LastLotteries\";\nimport SearchLotteries from \"../../components/SearchLotteries\";\n    \n    \nexport default function Intercambiar() {\n    return <>\n    <div className=\"homePage\">\n        <LastLotteries redirectTo={\"generarGanadoresLoteria\"} />\n    </div>\n    </>\n}","import React, { useEffect,useState } from \"react\";\nimport { useMoralis, useWeb3Contract, useApiContract } from \"react-moralis\";\nimport smart_contract from '../../abis/LotteryService.json';\nimport { CONTRACT_ADDRESS } from \"../../services/getEnvs\";\nimport MyAlert from \"../../components/MyAlert\";\n\nexport default function GenerarGanadoresLoteria({ params }) {\n    const { lotteryAddress } = params;\n    const { isWeb3Enabled } = useMoralis();\n    const [alert, setAlert] = useState(null);\n\n\n    const { runContractFunction: generateWinners } = useWeb3Contract({\n        abi: smart_contract.abi,\n        contractAddress: CONTRACT_ADDRESS,\n        functionName: \"generateWinners\",\n        params: {\n            _lotteryId: lotteryAddress\n        },\n    });\n\n    const { runContractFunction: setWinningTickets } = useWeb3Contract({\n        abi: smart_contract.abi,\n        contractAddress: CONTRACT_ADDRESS,\n        functionName: \"setWinningTickets\",\n        params: {\n            _lotteryId: lotteryAddress\n        },\n    });\n\n\n    const handleClickGenerateWinners = async () => {\n        if (isWeb3Enabled) {\n            generateWinners({onError: (error) => {\n                setAlert({severity: \"error\", message: error.error.message})\n                }\n            })\n        }\n    }\n\n    const handleClickSetWinningTickets = async () => {\n        if (isWeb3Enabled) {\n            console.log(\"set winning tickets\");\n            setWinningTickets({onError: (error) => {\n                setAlert({severity: \"error\", message: error.error.message})\n                }\n            })\n        }\n    }        \n\n    return (\n        <>\n            <div className=\"generarGanadoresPage\">\n                <div className=\"generarGanadoresHeader\">\n                    <h1>Generar Ganadores</h1>\n                </div>\n                <div className=\"generarGanadoresButtons\">\n                    <button onClick={handleClickGenerateWinners}>Generar Números</button>\n                    <button onClick={handleClickSetWinningTickets}>Asignar Boletos Ganadores</button>\n                </div>\n            </div>\n            {alert && (<MyAlert message={alert.message} severity={alert.severity} />)}\n        </>\n    );\n}","import React, { useEffect, useState } from \"react\";\nimport { useMoralis, useWeb3Contract } from \"react-moralis\";\nimport smart_contract from \"../../abis/LotteryService.json\";\nimport { CONTRACT_ADDRESS } from \"../../services/getEnvs\";\n\nexport default function ReclamarPremiosLoteria({ params }) {\n  const { lotteryAddress } = params;\n  const { isWeb3Enabled } = useMoralis();\n  const [numTicket, setNumTicket] = useState(0);\n  const [numSerie, setNumSerie] = useState(0);\n  const [numFraccion, setNumFraccion] = useState(0);\n  const [tokenId, setTokenId] = useState(null);\n\n  useEffect(() => {\n    tokenId && getPrize({onError: (error) => {\n      setAlert({severity: \"error\", message: error.error.message})\n      }\n  })\n  }, [tokenId]);\n\n  const { runContractFunction: getPrize } = useWeb3Contract({\n    abi: smart_contract.abi,\n    contractAddress: CONTRACT_ADDRESS,\n    functionName: \"getPrize\",\n    params: {\n      _lotteryId: lotteryAddress,\n      _tokenId: tokenId,\n    },\n  });\n\n  const { runContractFunction: getTokenId } = useWeb3Contract({\n    abi: smart_contract.abi,\n    contractAddress: CONTRACT_ADDRESS,\n    functionName: \"getTokenId\",\n    params: {\n      _lotteryId: lotteryAddress,\n      _numTicket: numTicket,\n      _numSerie: numSerie,\n      _numFraccion: numFraccion,\n    },\n  });\n\n  const reclamarPremio = async (e) => {\n    e.preventDefault();\n    if (isWeb3Enabled) {\n      const _tokenId = await getTokenId();\n      setTokenId(_tokenId);\n    }\n  };\n\n  return (\n    <div className=\"reclamarPremiosPage\">\n      <div className=\"reclamarPremiosHeader\">\n        <h1>Reclamar Premio</h1>\n      </div>\n      <form id=\"comprarForm\" onSubmit={reclamarPremio}>\n        <div className=\"comprarFormGroup\">\n          <div className=\"comprarFormInput\">\n            <label htmlFor=\"numTicket\">Numero de boleto</label>\n            <input\n              type=\"number\"\n              className=\"comprarFormControl\"\n              id=\"numTicket\"\n              min=\"0\"\n              max=\"99999\"\n              placeholder=\"Numero de boleto\"\n              onChange={(e) => {\n                setNumTicket(e.target.value);\n              }}\n            />\n          </div>\n          <div className=\"comprarFormInput\">\n            <label htmlFor=\"numSerie\">Numero de serie</label>\n            <input\n              type=\"number\"\n              className=\"comprarFormControl\"\n              onChange={(e) => {\n                setNumSerie(e.target.value);\n              }}\n              id=\"numSerie\"\n              min=\"0\"\n              max=\"171\"\n              placeholder=\"Numero de serie\"\n            />\n          </div>\n          <div className=\"comprarFormInput\">\n            <label htmlFor=\"numFraccion\">Fracción</label>\n            <input\n              type=\"number\"\n              className=\"comprarFormControl\"\n              id=\"numFraccion\"\n              min=\"0\"\n              max=\"9\"\n              placeholder=\"Fracción\"\n              onChange={(e) => {\n                setNumFraccion(e.target.value);\n              }}\n            />\n          </div>\n          <div className=\"comprarFormInput\">\n            <button type=\"submit\" className=\"comprarFormButton\">\n              Reclamar Premio\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n","import React,{useState,useEffect} from \"react\";\r\nimport { useMoralis,useWeb3Contract } from \"react-moralis\";\r\nimport lottery_contract from '../../abis/Lottery.json';\r\nimport smart_contract from '../../abis/LotteryService.json';\r\nimport Web3 from 'web3';\r\nimport { CONTRACT_ADDRESS } from \"../../services/getEnvs\";\r\nimport MyAlert from \"../../components/MyAlert\";\r\n\r\n\r\n\r\nexport default function Deploy() {\r\n\r\n    const {Moralis, isWeb3Enabled, account} = useMoralis();\r\n    const [totalNumbers, setTotalNumbers] = useState(0);\r\n    const [totalSeries, setTotalSeries] = useState(0);\r\n    const [ticketCost, setTicketCost] = useState(0);\r\n    const [prize, setPrize] = useState(0);\r\n    const [nameLottery, setNameLottery] = useState(\"\");\r\n    const [lotteryAddress, setLotteryAddress] = useState(null);\r\n    const [web3js, setWeb3js] = useState(null);\r\n    const [alert, setAlert] = useState(null);\r\n\r\n\r\n    const deployLottery = async () => {\r\n        const undeployedLottery = new web3js.eth.Contract(lottery_contract.abi);\r\n        try{\r\n            const deployedLottery = await undeployedLottery.deploy({\r\n                data: lottery_contract.bytecode,\r\n                arguments : [ticketCost,totalNumbers,totalSeries,CONTRACT_ADDRESS,prize,nameLottery]\r\n            }).send({\r\n                from: account,\r\n                gas: 9635081,\r\n                gasPrice: '2500000000',\r\n                value: prize\r\n            });\r\n            setLotteryAddress(deployedLottery._address);\r\n        }catch(e){\r\n            setAlert({ message: error.message, severity: \"error\" });\r\n        }\r\n    }\r\n\r\n    const {runContractFunction: addLottery} = useWeb3Contract({\r\n        abi: smart_contract.abi,\r\n        contractAddress: CONTRACT_ADDRESS,\r\n        functionName: \"addLottery\",\r\n        params: {\r\n            _lotteryContract: lotteryAddress,\r\n        },\r\n    })\r\n\r\n    const handleDeploy = (e) => {\r\n        e.preventDefault();\r\n        if (isWeb3Enabled) {\r\n            deployLottery().catch((error) => {\r\n                setAlert({ message: error.message, severity: \"error\" });\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(async () => {\r\n        if (isWeb3Enabled && lotteryAddress) {\r\n            setAlert({ message: `La lotería con address ${lotteryAddress} se ha desplegado correctamente. \r\n            Se procederá a guardarlo dentro del almacén de loterías`, severity: \"success\" });\r\n            console.log(\"añadiendo lottery\");\r\n            await addLottery({onError: (error) => {\r\n                setAlert({severity: \"error\", message: error.error.message})\r\n                }\r\n            })\r\n        }\r\n    }, [lotteryAddress]);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        if (isWeb3Enabled) {\r\n            Moralis.enableWeb3().then(() => {\r\n                const provider = new Web3(Moralis.provider);\r\n                setWeb3js(new Web3(Moralis.provider));\r\n            });\r\n        }\r\n    }, [isWeb3Enabled]);\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"desplegarPage\">\r\n                <div className=\"desplegarHeader\"> \r\n                    <h1>Desplegar Lotería</h1>\r\n                </div>\r\n                <form id=\"comprarForm\" onSubmit={handleDeploy}>\r\n                    <div className=\"comprarFormGroup\">\r\n                    <div className=\"comprarFormInput\">\r\n                            <label htmlFor=\"nameLottery\">Nombre</label>\r\n                            <input type=\"text\" className=\"comprarFormControl\" id=\"nameLottery\" onChange={(e) => {setNameLottery(e.target.value)}} placeholder=\"Lotería de Navidad 2022\"/>\r\n                        </div>\r\n                        <div className=\"comprarFormInput\">\r\n                            <label htmlFor=\"totalNumbers\">Cantidad de números</label>\r\n                            <input type=\"number\" className=\"comprarFormControl\" id=\"totalNumbers\" onChange={(e) => {setTotalNumbers(e.target.value)}} placeholder=\"100000\"/>\r\n                        </div>\r\n                        <div className=\"comprarFormInput\">\r\n                            <label htmlFor=\"totalSeries\">Cantidad de series</label>\r\n                            <input type=\"number\" className=\"comprarFormControl\" id=\"totalSeries\" onChange={(e) => {setTotalSeries(e.target.value)}} placeholder=\"172\"/>\r\n                        </div>\r\n                        <div className=\"comprarFormInput\">\r\n                            <label htmlFor=\"ticketCost\">Precio por boleto (USD)</label>\r\n                            <input type=\"number\" className=\"comprarFormControl\" id=\"ticketCost\" onChange={(e) => {setTicketCost(e.target.value)}}  placeholder=\"20\"/>\r\n                        </div>\r\n                        <div className=\"comprarFormInput\">\r\n                            <label htmlFor=\"prize\">Premio total (Wei)</label>\r\n                            <input type=\"number\" className=\"comprarFormControl\" id=\"prize\" onChange={(e) => {setPrize(e.target.value)}} placeholder=\"500000000000000\"/>\r\n                        </div>\r\n                        <div className=\"comprarFormInput\">\r\n                            <button type=\"submit\" className=\"comprarFormButton\">Crear Loteria</button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            {alert && (<MyAlert message={alert.message} severity={alert.severity} />)}\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { useMoralis, useWeb3Contract } from 'react-moralis';\r\nimport { CONTRACT_ADDRESS } from '../../services/getEnvs';\r\nimport smart_contract from '../../abis/LotteryService.json';\r\nimport Web3 from 'web3';\r\nimport MyAlert from '../../components/MyAlert';\r\n\r\nexport default function ObtenerBeneficios() {\r\n\r\n    const {Moralis,isWeb3Enabled} = useMoralis();\r\n    const [balance, setBalance] = useState(0);\r\n    const [alert, setAlert] = useState(null);\r\n\r\n    const { runContractFunction: withdraw } = useWeb3Contract({\r\n        abi: smart_contract.abi,\r\n        contractAddress: CONTRACT_ADDRESS,\r\n        functionName: \"withdraw\"\r\n    });\r\n\r\n    const handleObtenerBeneficios = () => {\r\n        if (isWeb3Enabled) {\r\n            console.log(\"withdraw\");\r\n            withdraw({onError: (error) => {\r\n                setAlert({severity: \"error\", message: error.error.message})\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (isWeb3Enabled) {\r\n            const provider = new Web3(Moralis.provider);\r\n            provider.eth.getBalance(CONTRACT_ADDRESS).then((_balance) => {\r\n                setBalance(provider.utils.fromWei(_balance, 'ether'));\r\n            });\r\n        }\r\n    }, [isWeb3Enabled]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"obtenerBeneficiosPage\">\r\n                <div className=\"obtenerBeneficiosHeader\"> \r\n                    <h1>Obtener Beneficios</h1>\r\n                    <span>Balance: {balance} ETH</span>\r\n                </div>\r\n                <div className=\"obtenerBeneficiosButton\">\r\n                    <button onClick={handleObtenerBeneficios}>Obtener Beneficios</button>\r\n                </div>\r\n            </div>\r\n            {alert && (<MyAlert message={alert.message} severity={alert.severity} />)}\r\n        </>\r\n    );\r\n}","import './App.css';\nimport Header from './components/Header';\nimport { Route, Switch } from \"wouter\";\nimport HomePage from \"./pages/HomePage\";\nimport Comprar from \"./pages/Comprar\";\nimport ReclamarPremios from \"./pages/ReclamarPremios\";\nimport Intercambiar from './pages/Intercambiar';\nimport IntercambiarBoleto from './pages/IntercambiarBoleto';\nimport GenerarGanadores from './pages/GenerarGanadores';\nimport GenerarGanadoresLoteria from './pages/GenerarGanadoresLoteria';\nimport ReclamarPremiosLoteria from './pages/ReclamarPremiosLoteria';\nimport Deploy from './pages/Desplegar';\nimport ObtenerBeneficios from './pages/ObtenerBeneficios';\n\n\nfunction App() {\n    return (\n      <div className=\"App\">\n        <Header />\n        <Switch>\n          <Route component={HomePage} path=\"/\" />\n          <Route component={Comprar} path=\"/comprar/:lotteryAddress\" />\n          <Route component={ReclamarPremios} path=\"/reclamarPremios\" />\n          <Route component={ReclamarPremiosLoteria} path=\"/reclamarPremiosLoteria/:lotteryAddress\" />\n          <Route component={Intercambiar} path=\"/intercambiar\" />\n          <Route component={IntercambiarBoleto} path=\"/intercambiarBoleto/:lotteryAddress\" />\n          <Route component={GenerarGanadores} path=\"/generarGanadores\" />\n          <Route component={GenerarGanadoresLoteria} path=\"/generarGanadoresLoteria/:lotteryAddress\" />\n          <Route component={Deploy} path=\"/deploy\" />\n          <Route component={ObtenerBeneficios} path=\"/obtenerBeneficios\" />\n        </Switch>\n      </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { MoralisProvider } from \"react-moralis\";\nimport { NotificationProvider } from '@web3uikit/core';\n\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <MoralisProvider initializeOnMount={false}>\n    <NotificationProvider>\n      <App />\n    </NotificationProvider>\n  </MoralisProvider>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}